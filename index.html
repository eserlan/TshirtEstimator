<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T-shirt Estimator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="container">
        <h1>üëï T-shirt Estimator</h1>
        
        <!-- Setup View -->
        <section id="setupView" class="section">
            <article>
                <h2>Start a New Session</h2>
                <form id="createSessionForm">
                    <label for="taskDescription">
                        Task Description
                        <input type="text" id="taskDescription" name="taskDescription" placeholder="Enter the task to estimate" required>
                    </label>
                    <label for="participantNames">
                        Participants (comma-separated)
                        <input type="text" id="participantNames" name="participantNames" placeholder="Alice, Bob, Charlie" required>
                    </label>
                    <button type="submit">Create Session</button>
                </form>
            </article>

            <article>
                <h2>Join Existing Session</h2>
                <form id="joinSessionForm">
                    <label for="sessionId">
                        Session ID
                        <input type="text" id="sessionId" name="sessionId" placeholder="Enter session ID" required>
                    </label>
                    <button type="submit">Join Session</button>
                </form>
            </article>
        </section>

        <!-- Estimation View -->
        <section id="estimationView" class="section hidden">
            <button id="backButton" class="secondary outline">‚Üê Back to Setup</button>
            
            <h2 id="taskTitle">Task: Loading...</h2>
            
            <p class="session-id-display">
                Session ID: <strong id="currentSessionId"></strong>
            </p>

            <article id="yourEstimationSection">
                <h3>Your Estimation</h3>
                <p>Select your T-shirt size estimate:</p>
                <div class="estimation-buttons">
                    <button class="estimate-btn" data-size="XS">XS</button>
                    <button class="estimate-btn" data-size="S">S</button>
                    <button class="estimate-btn" data-size="M">M</button>
                    <button class="estimate-btn" data-size="L">L</button>
                    <button class="estimate-btn" data-size="XL">XL</button>
                    <button class="estimate-btn" data-size="XXL">XXL</button>
                </div>
                <footer id="yourEstimateDisplay" class="hidden">
                    <p>You estimated: <strong id="yourEstimate"></strong></p>
                </footer>
            </article>

            <section>
                <h3>Participants Status</h3>
                <div id="participantsList" class="participant-list">
                    <!-- Participants will be dynamically added here -->
                </div>
            </section>

            <article id="resultsSection" class="hidden">
                <header>
                    <h3>üìä Results</h3>
                </header>
                <p class="info-message">
                    All participants have submitted their estimates!
                </p>
                <div id="resultsGrid" class="results-grid">
                    <!-- Results will be dynamically added here -->
                </div>
            </article>

            <aside id="waitingSection" class="hidden">
                <p class="warning-message">
                    ‚è≥ Waiting for all participants to submit their estimates...
                </p>
            </aside>
        </section>

    </main>
    
    <!-- Participant Selection Modal -->
    <dialog id="participantModal">
        <article>
            <header>
                <h3>Select Your Name</h3>
            </header>
            <p>Choose your participant name from the list below:</p>
            <div id="participantButtonList" class="participant-button-list">
                <!-- Participant buttons will be dynamically added here -->
            </div>
        </article>
    </dialog>

    <script type="module" src="app.js"></script>
</body>
</html>
