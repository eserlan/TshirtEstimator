<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T-shirt Estimator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="container">
        <h1>üëï T-shirt Estimator</h1>
        
        <!-- Setup View -->
        <div id="setupView" class="section">
            <h2>Start a New Session</h2>
            <form id="createSessionForm">
                <label for="taskDescription">
                    Task Description
                    <input type="text" id="taskDescription" name="taskDescription" placeholder="Enter the task to estimate" required>
                </label>
                <label for="participantNames">
                    Participants (comma-separated)
                    <input type="text" id="participantNames" name="participantNames" placeholder="Alice, Bob, Charlie" required>
                </label>
                <button type="submit">Create Session</button>
            </form>
            
            <hr>
            
            <h2>Join Existing Session</h2>
            <form id="joinSessionForm">
                <label for="sessionId">
                    Session ID
                    <input type="text" id="sessionId" name="sessionId" placeholder="Enter session ID" required>
                </label>
                <button type="submit">Join Session</button>
            </form>
        </div>
        
        <!-- Estimation View -->
        <div id="estimationView" class="section hidden">
            <button id="backButton" class="secondary outline">‚Üê Back to Setup</button>
            
            <h2 id="taskTitle">Task: Loading...</h2>
            
            <div class="session-id-display">
                Session ID: <strong id="currentSessionId"></strong>
            </div>
            
            <div id="yourEstimationSection">
                <h3>Your Estimation</h3>
                <p>Select your T-shirt size estimate:</p>
                <div class="estimation-buttons">
                    <button class="estimate-btn" data-size="XS">XS</button>
                    <button class="estimate-btn" data-size="S">S</button>
                    <button class="estimate-btn" data-size="M">M</button>
                    <button class="estimate-btn" data-size="L">L</button>
                    <button class="estimate-btn" data-size="XL">XL</button>
                    <button class="estimate-btn" data-size="XXL">XXL</button>
                </div>
                <div id="yourEstimateDisplay" class="hidden">
                    <p>You estimated: <strong id="yourEstimate"></strong></p>
                </div>
            </div>
            
            <h3>Participants Status</h3>
            <div id="participantsList" class="participant-list">
                <!-- Participants will be dynamically added here -->
            </div>
            
            <div id="resultsSection" class="hidden">
                <h3>üìä Results</h3>
                <div class="info-message">
                    All participants have submitted their estimates!
                </div>
                <div id="resultsGrid" class="results-grid">
                    <!-- Results will be dynamically added here -->
                </div>
            </div>
            
            <div id="waitingSection" class="hidden">
                <div class="warning-message">
                    ‚è≥ Waiting for all participants to submit their estimates...
                </div>
            </div>
        </div>
        
        <!-- Firebase Config Section -->
        <div id="firebaseConfigView" class="section">
            <details>
                <summary>Firebase Configuration</summary>
                <p>To use this application, you need to configure Firebase:</p>
                <ol>
                    <li>Create a Firebase project at <a href="https://console.firebase.google.com/" target="_blank">Firebase Console</a></li>
                    <li>Enable Firestore Database</li>
                    <li>Get your Firebase configuration</li>
                    <li>Update the firebaseConfig object in <code>firebase-config.js</code></li>
                </ol>
                <p><strong>Note:</strong> For demo purposes, you can use the default configuration, but it's recommended to use your own Firebase project.</p>
            </details>
        </div>
    </main>
    
    <script type="module" src="app.js"></script>
</body>
</html>
